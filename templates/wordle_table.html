<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle Game</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

    <div class="wordle-container">
        <div class="game-screen">
            <h2>Wordle Game</h2>
            <p>Guess the word to win the game!</p>

            <form method="post" action="/">
                <label for="user_guess">Enter your guess:</label>
                <input type="text" id="user_guess" name="user_guess" placeholder="e.g., P Y T H" maxlength="5">
                <button type="submit">Submit Guess</button>
            </form>

            <div id="word-display" class="word-display"></div>
            
            <table>
                {% for guess in past_guesses %}
                    <tr>
                        {% if correct_word and correct_word|length > 0 %}
                            {% if correct_word is string %}
                                {% for index in range(correct_word|length) %}
                                    {% set letter = guess[index] if index < guess|length else '' %}
                                    {% if letter == correct_word[index] %}
                                        <td class="correct-position">{{ letter }}</td>
                                    {% elif letter in correct_word %}
                                        <td class="correct-word">{{ letter }}</td>
                                    {% else %}
                                        <td class="incorrect">{{ letter }}</td>
                                    {% endif %}
                                {% endfor %}
                            {% else %}
                                <td colspan="5" class="incorrect">Invalid correct_word format</td>
                            {% endif %}
                        {% endif %}
                    </tr>
                {% endfor %}
            </table>

        </div>
    </div>

</body>
</html>
